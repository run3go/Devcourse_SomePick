# 💘 커플, 솔로 모두를 위한 연애 플랫폼, SomePick

<img src="./src/assets/images/githubimg.png"  width="720" height="350"/>

- 배포 URL : [somepick](https://somepick.netlify.app/)
- test ID : jiyu1@gmail.com
- test PW : qwer1234!!

## 프로젝트 소개

솔로와 커플 모두를 위한 맞춤형 연애 서비스, 관심사 기반 소개팅, 커플 일정 공유,
연애 커뮤니티까지 연애 상황에 따라 맞춤 기능을 제공하는 소개팅 플랫폼

- ‘SomePick’은 사용자의 연애 상태(솔로/커플)에 따라 맞춤형 기능을 제공하는 연애 기반 플랫폼입니다.
- 솔로에게는 이상형, 관심사, MBTI, 지역 등을 기반으로 한 소개팅과 하트/채팅 기능을 제공합니다.
- 커플에게는 기념일 및 일정공유 캘린더, 커플 프로필 등 연애 기록을 남겨 연인끼리 공유할 수 있습니다.
- 더불어 커뮤니티, 게시판, 운세 확인, 프로필 탐색 등 다양한 기능을 통해 사용자가 연애의 시작부터 관계의 유지를 모두 경험할 수 있도록 돕는 것이 목적입니다.

## 팀원 구성

<div align="center">

|                                                            **박정수**                                                            |                                                               **권유정**                                                               |                                                                    **이현우**                                                                     |                                                               **정지유**                                                               |                                                              **한상아**                                                              |
| :------------------------------------------------------------------------------------------------------------------------------: | :------------------------------------------------------------------------------------------------------------------------------------: | :-----------------------------------------------------------------------------------------------------------------------------------------------: | :------------------------------------------------------------------------------------------------------------------------------------: | :----------------------------------------------------------------------------------------------------------------------------------: |
| [<img src="https://avatars.githubusercontent.com/u/68907573?v=4" height=150 width=150> <br/> @run3go](https://github.com/run3go) | [<img src="https://avatars.githubusercontent.com/u/67456002?v=4" height=150 width=150> <br/> @best106yj](https://github.com/best106yj) | [<img src="https://avatars.githubusercontent.com/u/139132330?v=4" height=150 width=150> <br/> @manto123123123](https://github.com/manto123123123) | [<img src="https://avatars.githubusercontent.com/u/86185120?v=4" height=150 width=150> <br/> @JINJIYU23](https://github.com/JINJIYU23) | [<img src="https://avatars.githubusercontent.com/u/89959007?v=4" height=150 width=150> <br/> @hansanga](https://github.com/hansanga) |

</div>

<br>

## 개발 환경

-

<br>

## 디렉토리 구조

```
🗂️ 디렉토리 구조
📦public                  # 정적 파일 (아이콘 이미지)
📦src
 ┣ 📂apis                 # API 호출 관련 함수
 ┃ ┣ 📂posts
 ┣ 📂assets
 ┃ ┗images                 # 이미지 파일
 ┣ 📂components           # 공통 및 기능별 UI 컴포넌트
 ┃ ┣ 📂MatchingPage              # 소개팅
 ┃ ┣ 📂PostDetail                # 게시글 상세
 ┃ ┣ 📂calendar                  # 커플캘린더
 ┃ ┣ 📂common
 ┃ ┣ 📂fortune                   # 운세
 ┃ ┣ 📂login                     # 로그인
 ┃ ┣ 📂main                      # 메인페이지
 ┃ ┣ 📂message                   # 메세지
 ┃ ┣ 📂modals                    # 알림
 ┃ ┣ 📂profile                   # 유저 프로필
 ┃ ┣ 📂signup                    # 회원가입
 ┃ ┣ 📂webboard
 ┣ 📂constants              # 상수 정의
 ┣ 📂hooks                  # 커스텀 훅
 ┣ 📂routes
 ┃ ┣ 📂layouts              # 레이아웃 컴포넌트(헤더, 푸터)
 ┃ ┣ 📂loader               # 페이지 로더
 ┃ ┣ 📂pages                # 라우트 페이지
 ┃ ┗ 📜index.tsx
 ┣ 📂stores                 # zustand 전역 상태 관리
 ┣ 📂styles                 # 스타일
 ┣ 📂types                  # 타입 정의
 ┣ 📂utils                  # 유틸 함수
 ┣ 📜App.tsx
 ┣ 📜main.tsx
 ┗ 📜vite-env.d.ts
```

## 역할 분담

### 🦊 박정수

**UI**

- 솔로/커플 프로필 페이지 구성
- 프로필 수정 페이지 구성
- 커플 캘린더 페이지 구성

**기능**

- 프로필 정보 조회 및 수정
- 팔로우 및 하트 보내기 기능 구현
- 커플 캘린더 달력 기능
- 캘린더에 일정 추가/수정/삭제 구현

**데이터베이스 및 BasS연동**

- Supabase 기반 데이터베이스 구조 설계 및 테이블 구축
- Supabase와 연동하는 API 모듈 개발
  <br>

### 🐻 권유정

**UI**

- 로그인 페이지 구성
- 회원가입 step 별 페이지 구성
- 커뮤니티 페이지 구성
- 게시물 상세 페이지 구성
- 게시물 작성 및 수정 페이지 구성

**기능**

- 로그인 기능 구현
- 커플/솔로 별 회원가입 기능 구현
- 게시물 작성 및 수정 기능 구현
- 다수 이미지 업로드 기능 구현

**디자인**

- Figma를 활용한 UI 기획 및 디자인

**ETC**

- 오류 수정 및 검증

<br>

### 🐯 이현우

**UI**

- 게시판 페이지 구성
- 소개팅 페이지 구성

**기능**

- 무한 스크롤을 통한 게시물 목록 구현
- 최신순, 인기순, 키워드 검색을 통한 게시물 필터링/정렬 기능 구현
- 이상형 정보를 기반으로 한 소개팅 매칭 시스템 구현

**ETC**

- 발표 영상 준비
- 발표

<br>

### 🐼 정지유

**UI**

- 홈 메인 페이지 구성
- 운세 페이지 구성
- 예외 처리 페이지 구성

**기능**

- 헤더 리다이렉션 및 접근 제한 기능 구현
- 알림 기능
- 하루 한 번 운세 확인 및 캡처 공유 기능 제공
- 다크모드 기능 구현
- 컴포넌트 단위 구조 설계

**디자인**

- Figma를 활용한 UI 기획 및 디자인

**ETC**

- 발표 자료 제작

<br>

### 🐰 한상아

**UI**

- 게시글 상세 페이지 구성
- 메세지 페이지 구성
- 하트 수락/거절 페이지 구성

**기능**

- 게시글 내용 조회
- 게시글에 댓글, 대댓글 추가/수정/삭제, 좋아요 구현
- 채팅에서 하트 수락/거절/대기 구현
- 채팅방 실시간 대화 구현

**디자인**

- Figma를 활용한 UI 기획 및 디자인

**ETC**

- 기획서 작성

<br>

## 프로젝트 수행 기간

- 전체 개발 기간 : 2025.5.29 ~ 2025.6.18
- 주제 선정 및 역할 분담 : 2025.5.29 ~ 2025.6.2
- 디자인 및 API 구현 : 2025.6.4 ~ 2025.6.6
- UI 구현 : 2025.6.7 ~ 2025.6.10
- 기능 구현 : 202.6.11 ~ 2025.6.18

<br>

## 페이지별 기능

### [메인 페이지]

- somepick이 제공하는 다양한 서비스를 안내합니다.
- 카드 컴포넌트 클릭 시 해당 위치로 스크롤 이동합니다.
- Top 버튼 클릭 시 페이지 상단으로 이동합니다.

| 메인 페이지                                                                               |
| ----------------------------------------------------------------------------------------- |
| ![Image](https://github.com/user-attachments/assets/a16d414d-6e51-4e4d-b646-cb4fa2e3651a) |

---

### [헤더]

- 로그인의 유무에 따라 사용자의 접근이 제한됩니다.
- 로그인 시
  - 솔로일 경우, 소개팅 기능이 활성화되며 메시지 아이콘을 클릭 시 메시지 페이지로 이동합니다.
  - 커플일 경우, 커플 캘린더 기능이 생기고, 메시지 아이콘은 표시되지 않습니다.
- 알림
  - 받은 알림 목록을 확인할 수 있습니다.
  - 알림이 도착하면 아이콘에 빨간 원 표시가 나타나며, 실시간으로 확인 가능합니다.
  - 알림 종류에 따라 다른 알림 내용이 표시 됩니다.
  - 알림 클릭 시 관련 페이지로 이동합니다.
  - '전체 읽음' 버튼 클릭 시 모든 알림이 사라집니다.
- 다크모드 아이콘 클릭 시 다크모드가 적용됩니다.

| 솔로 헤더                                                                                 |
| ----------------------------------------------------------------------------------------- |
| ![Image](https://github.com/user-attachments/assets/728e0e52-9ca2-42c2-8bea-33847b5a5b60) |

| 커플 헤더                                                                                 |
| ----------------------------------------------------------------------------------------- |
| ![Image](https://github.com/user-attachments/assets/c6d78d88-5208-4674-8c79-ad10319b57cc) |

| 알림                                                                                      |
| ----------------------------------------------------------------------------------------- |
| ![Image](https://github.com/user-attachments/assets/cb4281c9-f995-4d15-9769-162d2374974e) |

---

### [오늘의 운세 페이지]

- Geminai API를 통해 커플/솔로 여부에 따라 매일 다른 운세가 제공됩니다.
- 카드 3개 중 하나만 선택할 수 있으며 클릭 시 카드가 뒤집어지면서 모달창을 통해 운세가 표시됩니다.
- 모달 창 내부 '내 운세 게시판에 올리기' 버튼 클릭 시
  - 운세 카드가 자동 캡쳐되어 zustand로 전역 상태로 저장됩니다.
  - 자유 게시판으로 리다이렉트되며, 캡쳐된 이미지가 자동으로 첨부됩니다.
- 유저당 하루에 한 번만 운세를 확인할 수 있습니다.
- 이미 운세를 확인한 유저가 오늘의 운세 페이지에 재접속 시 이전에 확인한 운세가 그대로 표시됩니다.

| 운세 페이지                                                                               |
| ----------------------------------------------------------------------------------------- |
| ![Image](https://github.com/user-attachments/assets/9c400e7a-7fd9-40c8-bd3a-99b55976511d) |

---

### [프로필 페이지]

- 회원가입 시 유저가 작성한 정보를 바탕으로 프로필을 나타냅니다.
- 자신의 프로필
  - 프로필 정보 변경 버튼을 통해 프로필 수정 페이지로 이동이 가능합니다.
- 타인의 프로필
  - 팔로우 버튼을 통해 상대를 팔로우/언팔로우할 수 있습니다.
  - 상대에게 하트 보내기가 가능하며, 이미 연결된 상대일 경우 DM 보내기 버튼이 나타납니다
  - 이미 상대가 내게 보낸 하트가 있을 경우, 모달창이 나타나며 연결창으로 이동이 가능합니다.
- 공통
  - 팔로우, 팔로잉 유저 목록을 확인할 수 있으며, 해당 유저를 팔로우/언팔로우 할 수 있습니다.
  - 프로필 유저의 게시글 목록을 볼 수 있습니다.
  - 커플일 경우, 연인의 프로필 이미지가 나타나며 이를 클릭 시 연인의 프로필로 이동합니다.

<br>
  
### [프로필 수정 페이지]
* 회원가입 시 입력했던 일부 개인 정보 및 프로필 사진을 변경할 수 있습니다.
* 닉네임은 중복 검사가 진행됩니다.
* 커플 및 솔로로 전환이 가능합니다.
  * 커플 전환 시 상대 닉네임으로 서로 지목할 경우 커플이 연결됩니다.

<br>
 
### [커플 캘린더]
* 커플이 하나의 캘린더 공유합니다.
* 좌측 상단에 처음 만난 날짜를 입력하여 교제 기간을 확인할 수 있습니다.
* 특정 날짜를 입력하고 일정을 추가할 수 있습니다.
* 좌측의 일정을 클릭하면 일정을 수정/삭제 할 수 있습니다.
  
<br>

### [게시판 페이지]

- 좌측 상단 드롭다운을 통해 최신순, 인기순으로 정렬이 가능합니다.
- 검색창에 검색어를 입력하면 게시물의 제목/내용을 기준으로 검색됩니다.
- 위의 정렬/검색을 포함한 모든 경우에 게시물은 10개만 렌더링되며, 최하단에서 스크롤을 내릴 시 10개씩 추가로 불러옵니다.
- 우측 상단의 + 버튼을 통해 게시글 작성 페이지로 넘어갈 수 있습니다.
- 게시글 작성자의 이미지 또는 닉네임을 클릭할 시, 모달창이 나타납니다.
  - 모달창에서는 상대의 솔로/커플 여부를 확인할 수 있습니다.
  - 팔로우/언팔로우가 가능합니다.
  - 작성자의 프로필로 이동할 수 있습니다.

 <br>
	 
### [소개팅 페이지]
* 현재 솔로인 이성의 목록을 보여줍니다.
* 최상단에는 사용자의 이상형과 50% 이상 일치하는 이성만 나타납니다.
  * 카드 클릭 시, 카드가 뒤집어지며 상대의 정보를 확인할 수 있습니다.
  * 뒷면의 하트 보내기 버튼 클릭 시, 상대와 연결을 시도합니다.
* 관심사/지역/MBTI 버튼을 통해 추가적으로 필터링이 가능합니다.
* 하단에는 50% 미만의 이성들을 확인할 수 있습니다.
  * 카드 클릭 시, 모달 창이 나타나며 위의 카드 뒷면과 내용이 일치합니다.
| 소개팅 하트 보내기                                                                                      |
| ----------------------------------------------------------------------------------------- |
| ![Animation1](https://github.com/user-attachments/assets/8b5758dc-4aa6-408d-83d9-fdc351764173)
 |
<br>

### [로그인 페이지]

- 이메일, 비빌번호를 입력하지 않았거나 존재하지 않는 계정일 경우 toast로 안내문구를 띄워줍니다.
- 로그인이 완료되면 홈화면으로 이동됩니다.

<br>

### [회원가입 페이지]

- 커플과 솔로의 회원가입이 나눠서 진행됩니다.
- 커플의 경우에는 하나, 솔로의 경우에는 3개의 step을 거쳐 회원가입이 완료됩니다.
- 입력 항목에는 필수항목과 선택항목이 있습니다.
- 필수 항목은 입력시 각 항목에 맞는 유효성 검사를 진행하고 통과하지 못한 경우, 입력칸 테두리가 빨간색으로 변하며 경고 문구가 입력창 상단에 표시 됩니다.
- 필수 항목을 입력하지 않았거나, 유효성 검사를 통과하지 못한 항목이 있는 경우, 다음 step으로 넘어갈 수 없으며 toast로 안내문구를 띄워줍니다.
- 중복 여부를 검사하는 이메일과 닉네임은 디바운싱을 적용해 0.3초 입력이 없는 경우 검사를 진행합니다.
- 솔로의 경우, 키워드 선택 화면에서는 오른쪽 태그 목록에서 키워드를 선택하면 선택된 키워드들은 색상이 변하고, 왼쪽에 선택된 키워드 목록이 만들어집니다.
- 회원가입이 완료되면 로그인이 된 상태로 홈화면으로 이동됩니다.

<br>

### [게시글 작성 페이지]

- 각 커뮤니티에서 +버튼을 통해 게시물을 작성할 수 있습니다.
- 제목, 내용을 모두 작성해야 게시물 등록이 가능하며, 이미지 첨부는 선택사항입니다.
- 제목 또는 내용에 공란이 있을 시 toast로 안내문구를 띄워줍니다.
- 이미지는 최대 8장까지 첨부가 가능하며, 8장을 모두 첨부하면 이미지 추가 버튼이 사라집니다.
- 첨부한 이미지를 클릭하면 이미지 삭제가 가능합니다.

<br>

### [게시글 수정 페이지]

- 게시물 상세 페이지에서 게시글 수정 버튼을 누르면 게시물 수정 페이지로 이동됩니다.
- 기존에 작성된 제목, 내용, 첨부한 이미지를 확인할 수 있고 수정 후 저장 버튼을 누르면 수정이 완료됩니다.

<br>

### [게시글 상세 페이지]

**게시글**

- 게시글 목록에서 특정 게시글 클릭 시 게시글 상세 페이지로 이동합니다.
  - 비로그인 시에도 게시글 상세페이지 열람이 가능합니다.
  - 단, 댓글, 좋아요 기능은 제한됩니다.
- 게시글에 좋아요, 댓글 작성/수정/삭제, 대댓글 작성이 가능합니다.
- 게시글 작성자 및 댓글 작성자의 프로필 클릭시 해당 유저의 프로필 페이지로 이동합니다.
- 자신의 게시글일 경우 수정 및 삭제가 가능합니다.

**댓글 및 좋아요**

- 좋아요와 댓글 수는 실시간으로 반영됩니다.
- 자신의 댓글일 경우 수정/삭제가 가능합니다.
  - 댓글에 대댓글이 존재할 경우, 댓글을 삭제하면 '삭제된 댓글입니다'라고 표시되며, 대댓글은 삭제되지 않습니다.
- 댓글 달기/좋아요 클릭 시 게시글 작성자에게 알림이 전송됩니다.
  - 대댓글의 경우, 댓글 작성자에게 알림이 전송됩니다.

| 게시판 상세 페이지                                                                        |
| ----------------------------------------------------------------------------------------- |
| ![Image](https://github.com/user-attachments/assets/15d4a0fa-9bee-4781-987e-42f93a2f2071) |

| 비로그인 시                                                                               |
| ----------------------------------------------------------------------------------------- |
| ![Image](https://github.com/user-attachments/assets/9ef31ad2-b218-49a3-920f-addedb5f2ea3) |

---

### [메세지 페이지]

- 자신이 보낸 하트 목록과 받은 하트 목록 확인이 가능합니다.
- 받은 하트 목록에서 사용자를 클릭해 연결 여부를 선택할 수 있습니다.
  - 수락 시, 해당 사용자는 연결중 목록에서 확인할 수 있으며, 바로 채팅창 화면으로 이동합니다.
  - 거절 시, 받은 하트 목록에서 해당 사용자가 삭제됩니다.
  - 연결을 수락하거나 거절할 경우, 상대에게 알림이 전송됩니다.
- 보낸 하트 목록에서는 상대가 내 하트를 받았는지를 확인할 수 있습니다.
- 사용자간 1:1 채팅이 가능합니다.
- 실시간 메세지 확인이 가능합니다.
  - 채팅을 보내면 상대에게 알림이 전송됩니다.
- 채팅상대의 메시지 읽음 여부를 확인할 수 있습니다.

| 메세지 페이지 (하트 수락/거절)                                                            |
| ----------------------------------------------------------------------------------------- |
| ![Image](https://github.com/user-attachments/assets/bca81a62-11cc-43ad-95f7-77463b5bceff) |

| 메세지 페이지 (채팅)                                                                      |
| ----------------------------------------------------------------------------------------- |
| ![Image](https://github.com/user-attachments/assets/713d9a42-b614-4699-b34a-209f65fe81e1) |

---

## 트러블 슈팅

운세는 하루에 한 번만 확인할 수 있도록 제한하는 기능이 필요했습니다.
이를 위해 매일 자정(00시 00분)에 확인 여부를 초기화해야 했고, 그 과정에서 cron 기능과 같은 스케줄링 작업이 필요해지는 번거로움이 발생하였습니다. <br>
이 문제를 해결하기 위해 프로필에서 운세 정보를 추출했을 때 **운세 정보가 있고, 운세를 확인한 날짜가 오늘과 일치할 경우**(운세를 이미 확인 함) isTodayChecked를 true로 바꿔 
하루에 한 번만 운세 확인 가능하도록 구현했습니다.

<br>

채팅 입력 및 댓글 입력 구현<br>
채팅 입력 후 ‘Enter’키로 전송했을 때 이벤트가 두번 실행되는 현상이 발생했습니다. 영어가 아닌 한글같은 조합형 문자입력 시스템에서 발생하는 오류였습니다.<br>
이를 해결하기 위해 한글이 조합되는 동안은 ‘Enter’이벤트가 중복 실행되지 않도록 isComposing 상태를 사용해 해결했습니다.

<br>

<img width="447" alt="image" src="https://github.com/user-attachments/assets/ed2d6696-1e94-451d-95d7-711e5ec464a3" />

<br>

## 프로젝트 후기

### 🐻 권유정

프로젝트 주제가 **흥미로워서** 진행하면서도 재미있었습니다!  
새로 배운 **supabase**를 많이 활용해 보질 못해서 아쉬웠고,  
이전과는 다른 기능 구현들을 맡아서 하다보니 도움이 많이 된 것 같습니다.  
팀원분들 그동안 너무 고생 많으셨습니다!

---

### 🦊 박정수

기존에 제공받던 **api 없이 직접 만들어서** 개발하려니  
생각보다 공부할 것이 많았습니다.  
**supabase** 포함해서 최근에 수업시간에 배운 많은 기능들을  
활용할 수 있는 기회였기에 굉장히 만족하고 있습니다.  
좋은 팀원들을 만나 큰 문제 없이 수월하게 진행한 것 같습니다.  
다들 고생하셨습니다!

---

### 🐯 이현우

2차 프로젝트보다 더 재미있게 프로젝트를 진행한 것 같고  
팀장님이 **api 설계로 고생을 많이 해주신 덕분에**  
프로그래머스에서 제공하는 api보다 더 나은 방향으로  
개발할 수 있었습니다.  
다음에 기회가 된다면 저도 **supabase**를 더 공부해보고 싶네요.  
다들 재미있었어요!

---

### 🐼 정지유

**supabase로 개발**하니 더 다양한 기능을 추가할 수 있어서 좋았습니다.  
또한 흥미로운 주제로 프로젝트를 진행하게 되어서 더 재미있었습니다.  
함께 프로젝트를 진행한 팀원분들이 많은 역할을 잘 수행해주시고  
서로 도움을 많이 주면서 협업이 잘 된 것 같아서 만족스러운 프로젝트였습니다!

---

### 🐰 한상아

2차 프로젝트 때와 달리 **supabase를 활용해 구현한 프로젝트**라  
기능도 더 다양하게 넣을 수 있어서 좋았습니다.  
구현하는 데 있어서 막히는 부분도 많았지만  
그만큼 많이 배운 것 같아서 좋은 경험이 된 것 같습니다.  
좋은 팀원들 덕분에 프로젝트 성공적으로 마무리할 수 있었습니다.  
다들 고생하셨습니다!
